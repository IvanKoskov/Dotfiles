"use strict";var g=Object.create;var a=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var $=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),k=(e,r)=>{for(var t in r)a(e,t,{get:r[t],enumerable:!0})},d=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of F(r))!b.call(e,o)&&o!==t&&a(e,o,{get:()=>r[o],enumerable:!(n=w(r,o))||n.enumerable});return e};var m=(e,r,t)=>(t=e!=null?g(L(e)):{},d(r||!e||!e.__esModule?a(t,"default",{value:e,enumerable:!0}):t,e)),S=e=>d(a({},"__esModule",{value:!0}),e);var x=$((H,v)=>{"use strict";var C=require("os"),u=C.homedir();v.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return u?e.replace(/^~(?=$|\/|\\)/,u):e}});var U={};k(U,{confirmation:()=>X,default:()=>j});module.exports=S(U);var A=require("@raycast/api");var l=require("child_process"),f=require("util"),s=(0,f.promisify)(l.exec);function p(e){let r;return Array.isArray(e)?r=e.map(t=>`-e '${t}'`).join(" "):r=`-e '${e}'`,s(`osascript ${r}`).then(t=>t.stdout)}var i=m(require("fs"));var y=i.default.promises.readdir,K=i.default.promises.mkdir,M=i.default.promises.rm,_=i.default.promises.readFile,z=i.default.promises.writeFile,B=i.default.promises.rm;var D=m(require("path")),h=m(x()),c=class{static clearDerivedData(){return p(['set dd to (path to home folder as string) & "Library:Developer:Xcode:DerivedData"','tell application "Finder"',"if dd exists then","move dd to trash","end if","end tell"]).then()}static removeDerivedData(r){let t=(0,h.default)("~/Library/Developer/Xcode/DerivedData");return y(t).then(n=>{let o=n.find(P=>P.split("-").slice(0,-1).join("-")===r);return o?p(`tell application "Finder" to delete POSIX file "${D.default.join(t,o)}"`).then():Promise.resolve()})}static clearSwiftPackageManagerCache(){return s("rm -rf ~/Library/org.swift.swiftpm && rm -rf ~/Library/Caches/org.swift.swiftpm").then()}static clearSwiftUIPreviewsCache(){return s("rm -rf ~/Library/Developer/Xcode/UserData/Previews").then()}static deleteUnsupportedSimulators(){return s("xcrun simctl delete unavailable").then()}};var X=async()=>({style:A.Action.Style.Destructive,message:"Are you sure you want to clear the derived data directory?"}),j=()=>c.clearDerivedData();0&&(module.exports={confirmation});
